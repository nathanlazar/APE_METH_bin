#!/bin/bash

# nathan dot lazar at gmail dot com

# Short script to run seqtk to trim all reads uniformly

big_bin_dir=/mnt/lustre1/users/lazar/bin/
dir=/mnt/lustre1/users/lazar/APE_METH/POST_CRASH/

# Usage ./trim_uniform.sh <in_dir> <out_dir> <5trim> <3trim>

# Example ./trim_uniform.sh ADAPT_TRIM TRIMMED 5 5

in_dir=$1
out_dir=$2
trim5=$3
trim3=$4

#Make out drive if it doesn't exist
if [ ! -d $dir/$out_dir ]
  then mkdir $dir/$out_dir
fi

for f in $(ls $dir/$in_dir/*.fq.gz)
  do new=$(basename $f | sed 's/.fq.gz/_trim.fq/')
  $big_bin_dir/seqtk/seqtk trimfq -b 5 -e 5 $f > $dir/$out_dir/$new
done
